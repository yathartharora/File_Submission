{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/yathartharora/File_Submission/pages/Subjects/upload.js\";\nimport React, { Component } from 'react';\nimport Submission from '../../Ethereum/submission';\nimport { Link } from '../../routes';\nimport web3 from '../../Ethereum/web3';\nimport Layout from '../../Components/Layout';\nimport ipfs from '../../ipfs';\nimport { Form, Input } from 'semantic-ui-react';\n\nclass Upload extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      errormessage: '',\n      firstname: '',\n      lastname: '',\n      scholarnumber: '',\n      buffer: null,\n      ipfsHash: '',\n      active: false\n    };\n    this.captureFile = this.captureFile.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.generate = this.generate.bind(this);\n  }\n\n  generate(event) {\n    event.preventDefault();\n    ipfs.files.add(this.state.buffer, (err, res) => {\n      if (err) {\n        console.log(err);\n        return;\n      }\n\n      this.setState({\n        ipfsHash: res[0].hash\n      });\n      console.log('ipfsHash: ', this.state.ipfsHash);\n    });\n    this.setState({\n      active: false\n    });\n  }\n\n  captureFile(event) {\n    event.preventDefault();\n    console.log('Capture File...');\n    const file = event.target.files[0];\n    const reader = new window.FileReader();\n    reader.readAsArrayBuffer(file);\n\n    reader.onloadend = () => {\n      this.setState({\n        buffer: Buffer(reader.result)\n      });\n      console.log('buffer ', this.state.buffer);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Upload your file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        children: /*#__PURE__*/_jsxDEV(Form.Field, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            value: this.state.firstname,\n            onChange: event => this.setState({\n              firstname: event.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            value: this.state.lastname,\n            onChange: event => this.setState({\n              lastname: event.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            value: this.state.scholarnumber,\n            onChange: event => this.setState({\n              scholarnumber: event.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Upload;","map":{"version":3,"sources":["/Users/yathartharora/File_Submission/pages/Subjects/upload.js"],"names":["React","Component","Submission","Link","web3","Layout","ipfs","Form","Input","Upload","constructor","props","state","loading","errormessage","firstname","lastname","scholarnumber","buffer","ipfsHash","active","captureFile","bind","onSubmit","generate","event","preventDefault","files","add","err","res","console","log","setState","hash","file","target","reader","window","FileReader","readAsArrayBuffer","onloadend","Buffer","result","render","value"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Submission from '../../Ethereum/submission';\nimport {Link} from '../../routes';\nimport web3 from '../../Ethereum/web3';\nimport Layout from '../../Components/Layout';\nimport ipfs from '../../ipfs';\nimport { Form, Input } from 'semantic-ui-react';\n\nclass Upload extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            loading: false,\n            errormessage: '',\n            firstname: '',\n            lastname: '',\n            scholarnumber: '',\n            buffer: null,\n            ipfsHash: '',\n            active: false\n        }\n        this.captureFile = this.captureFile.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.generate = this.generate.bind(this);\n    }\n\n\n    generate(event) {\n        event.preventDefault();\n        ipfs.files.add(this.state.buffer, (err, res) => {\n            if(err){\n                console.log(err)\n                return\n            }\n            this.setState({ipfsHash: res[0].hash})\n            console.log('ipfsHash: ', this.state.ipfsHash);\n        })\n        this.setState({active: false});\n    }\n\n    captureFile(event) {\n        event.preventDefault();\n        console.log('Capture File...')\n\n        const file = event.target.files[0];\n        const reader = new window.FileReader();\n        reader.readAsArrayBuffer(file);\n\n        reader.onloadend = () => {\n            this.setState({buffer: Buffer(reader.result)})\n            console.log('buffer ',this.state.buffer);\n        }\n    }\n\n    render(){\n        return(\n            <Layout>\n                <h3>Upload your file</h3>\n                <Form>\n                    <Form.Field>\n                        <label>First Name</label>\n                        <Input \n                         value = {this.state.firstname}\n                         onChange = {event => this.setState({firstname: event.target.value})}\n                        />\n                        <Input \n                          value = {this.state.lastname}\n                          onChange = {event => this.setState({lastname: event.target.value})}  \n                        />\n                        <Input \n                          value = {this.state.scholarnumber}\n                          onChange = {event => this.setState({scholarnumber: event.target.value})}  \n                        />\n                    </Form.Field>\n                </Form>\n            </Layout>\n        )\n    }\n}\n\nexport default Upload;"]},"metadata":{},"sourceType":"module"}